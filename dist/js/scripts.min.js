let pokemonRepository=function(){let t=[];function e(e){if("object"!=typeof e||!["name"].every(t=>Object.keys(e).includes(t))){console.warn("Invalid Pokemon.");return}t.push(e)}function n(){return t}function a(t){o(t).then(function(){let e=$(".modal-title"),n=$(".modal-body");e.empty(),n.empty(),e.removeClass().addClass("modal-title "+t.types[0].type.name).text(t.name);let a=$("<img></img>").addClass("modal-img").attr("src",t.imageUrlFront),o=$("<img></img>").addClass("modal-img").attr("src",t.imageUrlBack),i=$("<p></p>").addClass("modal-text").text("Height: "+t.height+" m"),p=$("<p></p>").addClass("modal-text").text("Weight: "+t.weight+" kg"),s=$("<p>Types: </p>").addClass("modal-types");if(2===t.types.length){let l=$('<span class="'+t.types[0].type.name+'">'+t.types[0].type.name+'</span> <span class="'+t.types[1].type.name+'">'+t.types[1].type.name+"</span>");s.append(l)}else{let r=$('<span class="'+t.types[0].type.name+'">'+t.types[0].type.name+"</span>");s.append(r)}n.append(a),n.append(o),n.append(i),n.append(p),n.append(s),$("#exampleModal").on("hidden.bs.modal",function(t){t.preventDefault(),e.empty(),n.empty()})})}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height/10,t.types=e.types,t.weight=e.weight/10}).catch(function(t){console.error(t)})}return{add:e,getAll:n,findByName:function e(n){return t.filter(t=>t.name.trim().toLowerCase().includes(n))},addListItem:function t(e){let n=$(".pokemon-list"),o=$("<li></li>");o.addClass("pokemon-list-item list-group-item");let i=$("<button></button>").attr("data-toggle","modal").attr("data-target","#exampleModal").text(e.name).addClass("btn btn-primary pokemon-button");i.on("click",function(t){t.preventDefault(),a(e)}),o.append(i),n.append(o)},showDetails:a,loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){e({name:t.name.charAt(0).toUpperCase()+t.name.slice(1),detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:o}}();document.addEventListener("DOMContentLoaded",function(){let t=$(".form-search");t.on("input",function e(){var n;let a=t.val().trim().toLowerCase(),o=pokemonRepository.findByName(a);n=o,$(".pokemon-list").html(""),n.forEach(function(t){pokemonRepository.addListItem(t)})})}),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});